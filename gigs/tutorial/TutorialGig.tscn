[gd_scene load_steps=49 format=3 uid="uid://blfqoriuq7ojj"]

[ext_resource type="Script" path="res://gigs/Gig.gd" id="1_7eylp"]
[ext_resource type="Script" path="res://gigs/Joke.gd" id="2_jdisv"]
[ext_resource type="Script" path="res://gigs/GigCrowd.gd" id="2_l4dqt"]
[ext_resource type="Script" path="res://gigs/GigPlayer.gd" id="2_lyihc"]
[ext_resource type="Texture2D" uid="uid://bikxm2g334p0h" path="res://gigs/tutorial/art/2. Background Color.png" id="2_mk1pc"]
[ext_resource type="Script" path="res://gigs/CrowdEvent.gd" id="3_g4on5"]
[ext_resource type="Script" path="res://gigs/LaughEffect.gd" id="3_ia0s4"]
[ext_resource type="Script" path="res://gigs/MovesListContainer.gd" id="4_0u1ey"]
[ext_resource type="Texture2D" uid="uid://4md3btsg1csk" path="res://gigs/tutorial/art/3. Background Lines.png" id="4_a4kr1"]
[ext_resource type="Script" path="res://util/MoodSwitcher.gd" id="5_60tre"]
[ext_resource type="Texture2D" uid="uid://7uer3faj88m0" path="res://gigs/tutorial/art/4. Background Crowd Color.png" id="5_nww4l"]
[ext_resource type="PackedScene" uid="uid://cmtdemu0kies3" path="res://ui_nodes/JokeCard.tscn" id="5_w6ovw"]
[ext_resource type="Texture2D" uid="uid://bpgrhsc2r3dlr" path="res://gigs/tutorial/art/5.3 Neutral Background Crowd.png" id="6_6jftt"]
[ext_resource type="Texture2D" uid="uid://dkpy6g6w0rnae" path="res://gigs/tutorial/art/5.1 Happy Background Crowd.png" id="7_7wc7l"]
[ext_resource type="PackedScene" uid="uid://btu5rcv03xdvd" path="res://buffs/SmallAttackBoost.tscn" id="7_ay52g"]
[ext_resource type="Script" path="res://gigs/BuffEffect.gd" id="7_c3y84"]
[ext_resource type="Script" path="res://gigs/GameOverPopup.gd" id="7_gg7m1"]
[ext_resource type="Texture2D" uid="uid://c6qobhp15pqfc" path="res://gigs/tutorial/art/8.3 Neutral Front Color.png" id="7_y4um5"]
[ext_resource type="Texture2D" uid="uid://hqv6tky8mkox" path="res://gigs/tutorial/art/8.3 Neutral Front Line.png" id="8_5ckij"]
[ext_resource type="Script" path="res://gigs/WinPopup.gd" id="8_dfcjn"]
[ext_resource type="Texture2D" uid="uid://buodosvlg3xn3" path="res://gigs/tutorial/art/5.2 Sad Background Crowd.png" id="8_ftc15"]
[ext_resource type="Texture2D" uid="uid://cmhh3m50vsrng" path="res://gigs/art/alien/Neutral Alien Color.png" id="9_mv4rd"]
[ext_resource type="Script" path="res://gigs/BuffsListContainer.gd" id="10_3cn8e"]
[ext_resource type="Texture2D" uid="uid://ci7ukd8ffowb" path="res://gigs/art/alien/Neutral Alien Line.png" id="10_n2qjb"]
[ext_resource type="Texture2D" uid="uid://bvqh1vqiin26g" path="res://gigs/art/alien/Happy Alien Color.png" id="11_aky7e"]
[ext_resource type="Texture2D" uid="uid://x44xw3kl7ygo" path="res://gigs/tutorial/art/8.1 Happy Front Color.png" id="11_tv2am"]
[ext_resource type="Texture2D" uid="uid://dv8x2btjsm7qy" path="res://gigs/tutorial/art/8.1 Happy front Line.png" id="12_es8bi"]
[ext_resource type="Texture2D" uid="uid://dwfi72mbwgqgp" path="res://gigs/art/alien/Happy Alien Line.png" id="12_img0x"]
[ext_resource type="Texture2D" uid="uid://dc6hr5m6ooe6s" path="res://gigs/art/alien/Sad Alien Color.png" id="13_5iymi"]
[ext_resource type="Texture2D" uid="uid://ckm8l50p6p1bm" path="res://gigs/tutorial/art/8.2 Sad Front Color.png" id="13_ledba"]
[ext_resource type="Texture2D" uid="uid://b5faiswtaps4r" path="res://gigs/art/alien/Sad Alien Line.png" id="14_bholu"]
[ext_resource type="Texture2D" uid="uid://4gpnhnf168bq" path="res://gigs/tutorial/art/8.2 Sad Front Line.png" id="14_mc3tq"]
[ext_resource type="FontFile" uid="uid://cxetmfjunlb5k" path="res://asset_drop/Itim-Regular.ttf" id="28_30o4y"]
[ext_resource type="Script" path="res://gigs/RoundCounter.gd" id="28_g6002"]
[ext_resource type="AudioStream" uid="uid://dmv7f0ppxmeut" path="res://sfx/crowd_laugh_small.wav" id="28_r4hjo"]
[ext_resource type="AudioStream" uid="uid://cryp1s6b48tor" path="res://sfx/crowd_laugh_big.wav" id="29_ex3mk"]
[ext_resource type="Texture2D" uid="uid://b773kmc3s1iic" path="res://gigs/art/LaughOMeter.png" id="30_bo35e"]
[ext_resource type="Script" path="res://gigs/LaughOMeter.gd" id="30_d55fc"]
[ext_resource type="AudioStream" uid="uid://chg0ytrhvket7" path="res://sfx/crowd_boo.wav" id="30_m0aqf"]
[ext_resource type="AudioStream" uid="uid://dpvv8vih12xlo" path="res://sfx/tick.wav" id="31_7t3pt"]
[ext_resource type="Texture2D" uid="uid://btki52fknfo7c" path="res://gigs/art/LaughOMeterArrow.png" id="31_ussmt"]
[ext_resource type="FontFile" uid="uid://bfixvwrrbop53" path="res://asset_drop/PermanentMarker-Regular.ttf" id="34_fg2lb"]
[ext_resource type="Script" path="res://ui_nodes/TutorialPopup.gd" id="37_ibop3"]
[ext_resource type="PackedScene" uid="uid://bjcds4f2gfq0h" path="res://gigs/BuffIndicator.tscn" id="38_jsgpo"]
[ext_resource type="Script" path="res://gigs/MessageLog.gd" id="39_avrv0"]
[ext_resource type="PackedScene" uid="uid://8ey6dodo11lc" path="res://ui_nodes/LogMessage.tscn" id="40_tf5cc"]
[ext_resource type="Texture2D" uid="uid://w40krbwnkx2w" path="res://gigs/tutorial/art/9. Lighting effects.png" id="44_wy2ib"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_1ec8j"]
content_margin_left = 16.0
content_margin_top = 16.0
content_margin_right = 16.0
content_margin_bottom = 16.0
bg_color = Color(0.290196, 0.290196, 0.290196, 1)
border_width_left = 2
border_width_top = 2
border_width_right = 2
border_width_bottom = 2
border_color = Color(0, 0, 0, 1)
corner_radius_top_left = 4
corner_radius_top_right = 4
corner_radius_bottom_right = 4
corner_radius_bottom_left = 4

[node name="TutorialGig" type="Node2D"]
script = ExtResource("1_7eylp")
positive_type = 2
negative_type = 3

[node name="BackgroundArt" type="Node2D" parent="."]

[node name="BGColor" type="Sprite2D" parent="BackgroundArt"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("2_mk1pc")
centered = false

[node name="BGLines" type="Sprite2D" parent="BackgroundArt"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("4_a4kr1")
centered = false

[node name="BGCrowd" type="Node2D" parent="."]
script = ExtResource("5_60tre")

[node name="Neutral" type="Node2D" parent="BGCrowd"]

[node name="Color" type="Sprite2D" parent="BGCrowd/Neutral"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("5_nww4l")
centered = false

[node name="Lines" type="Sprite2D" parent="BGCrowd/Neutral"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("6_6jftt")
centered = false

[node name="Happy" type="Node2D" parent="BGCrowd"]
visible = false

[node name="Color" type="Sprite2D" parent="BGCrowd/Happy"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("5_nww4l")
centered = false

[node name="Lines" type="Sprite2D" parent="BGCrowd/Happy"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("7_7wc7l")
centered = false

[node name="Sad" type="Node2D" parent="BGCrowd"]
visible = false

[node name="Color" type="Sprite2D" parent="BGCrowd/Sad"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("5_nww4l")
centered = false

[node name="Lines" type="Sprite2D" parent="BGCrowd/Sad"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("8_ftc15")
centered = false

[node name="Player" type="Node2D" parent="."]
script = ExtResource("2_lyihc")

[node name="Jokes" type="Node2D" parent="Player"]

[node name="RaiseAttack" type="Node2D" parent="Player/Jokes"]
script = ExtResource("2_jdisv")
joke_name = "Raise Attack"
joke_description = "This raises your attack. Wait... attack?"
accuracy = 0.7
miss_damage = 3.0

[node name="BuffEffect" type="Node" parent="Player/Jokes/RaiseAttack"]
script = ExtResource("7_c3y84")
buff_scene = ExtResource("7_ay52g")

[node name="OneLiner" type="Node2D" parent="Player/Jokes"]
script = ExtResource("2_jdisv")
joke_name = "One-Liner!!"
joke_description = "A quick, punchy joke"
accuracy = 0.9
miss_damage = 3.0

[node name="LaughEffect" type="Node" parent="Player/Jokes/OneLiner"]
script = ExtResource("3_ia0s4")
laughs = 10.0

[node name="OneLiner2" type="Node2D" parent="Player/Jokes"]
script = ExtResource("2_jdisv")
joke_name = "Dirty Example Joke"
joke_description = "naughty naughty"
joke_type = 3
accuracy = 0.9
miss_damage = 3.0

[node name="LaughEffect" type="Node" parent="Player/Jokes/OneLiner2"]
script = ExtResource("3_ia0s4")
laughs = 10.0

[node name="Buffs" type="Node2D" parent="Player"]

[node name="Sprites" type="Node2D" parent="Player"]
position = Vector2(1074, 226)
scale = Vector2(0.677191, 0.677191)
script = ExtResource("5_60tre")

[node name="Neutral" type="Node2D" parent="Player/Sprites"]

[node name="Color" type="Sprite2D" parent="Player/Sprites/Neutral"]
texture = ExtResource("9_mv4rd")

[node name="Line" type="Sprite2D" parent="Player/Sprites/Neutral"]
texture = ExtResource("10_n2qjb")

[node name="Happy" type="Node2D" parent="Player/Sprites"]
visible = false

[node name="Color" type="Sprite2D" parent="Player/Sprites/Happy"]
texture = ExtResource("11_aky7e")

[node name="Line" type="Sprite2D" parent="Player/Sprites/Happy"]
texture = ExtResource("12_img0x")

[node name="Sad" type="Node2D" parent="Player/Sprites"]
visible = false

[node name="Color" type="Sprite2D" parent="Player/Sprites/Sad"]
texture = ExtResource("13_5iymi")

[node name="Line" type="Sprite2D" parent="Player/Sprites/Sad"]
texture = ExtResource("14_bholu")

[node name="FGCrowd" type="Node2D" parent="."]
script = ExtResource("5_60tre")

[node name="Neutral" type="Node2D" parent="FGCrowd"]

[node name="Color" type="Sprite2D" parent="FGCrowd/Neutral"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("7_y4um5")
centered = false

[node name="Lines" type="Sprite2D" parent="FGCrowd/Neutral"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("8_5ckij")
centered = false

[node name="Happy" type="Node2D" parent="FGCrowd"]
visible = false

[node name="Color" type="Sprite2D" parent="FGCrowd/Happy"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("11_tv2am")
centered = false

[node name="Lines" type="Sprite2D" parent="FGCrowd/Happy"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("12_es8bi")
centered = false

[node name="Sad" type="Node2D" parent="FGCrowd"]
visible = false

[node name="Color" type="Sprite2D" parent="FGCrowd/Sad"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("13_ledba")
centered = false

[node name="Lines" type="Sprite2D" parent="FGCrowd/Sad"]
scale = Vector2(0.62037, 0.62037)
texture = ExtResource("14_mc3tq")
centered = false

[node name="Crowd" type="Node2D" parent="."]
script = ExtResource("2_l4dqt")
event_rate = 0.3

[node name="Moves" type="Node2D" parent="Crowd"]

[node name="Heckle" type="Node2D" parent="Crowd/Moves"]
script = ExtResource("3_g4on5")
message = "A heckler shouts something rude from the crowd!"

[node name="LaughEffect" type="Node" parent="Crowd/Moves/Heckle"]
script = ExtResource("3_ia0s4")
laughs = -5.0

[node name="SFXLaughSmall" type="AudioStreamPlayer" parent="Crowd"]
stream = ExtResource("28_r4hjo")

[node name="SFXLaughBig" type="AudioStreamPlayer" parent="Crowd"]
stream = ExtResource("29_ex3mk")

[node name="SFXLaughBoo" type="AudioStreamPlayer" parent="Crowd"]
stream = ExtResource("30_m0aqf")

[node name="UI" type="CanvasLayer" parent="."]

[node name="SideUI" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 9
anchor_bottom = 1.0
offset_right = 405.0
grow_vertical = 2

[node name="RoundCounter" type="VBoxContainer" parent="UI/SideUI"]
layout_mode = 0
offset_left = 10.0
offset_top = 8.0
offset_right = 104.0
offset_bottom = 92.0
script = ExtResource("28_g6002")

[node name="Label" type="Label" parent="UI/SideUI/RoundCounter"]
layout_mode = 2
theme_override_fonts/font = ExtResource("28_30o4y")
theme_override_font_sizes/font_size = 24
text = "Round:"

[node name="Control" type="Control" parent="UI/SideUI/RoundCounter"]
custom_minimum_size = Vector2(0, 50)
layout_mode = 2
size_flags_vertical = 3

[node name="CurrentRound" type="Label" parent="UI/SideUI/RoundCounter/Control"]
layout_mode = 0
offset_right = 40.0
offset_bottom = 23.0
theme_override_fonts/font = ExtResource("34_fg2lb")
theme_override_font_sizes/font_size = 40
text = "10"
horizontal_alignment = 2

[node name="Slash" type="Label" parent="UI/SideUI/RoundCounter/Control"]
layout_mode = 0
offset_left = 35.0
offset_top = -8.0
offset_right = 75.0
offset_bottom = 124.0
rotation = 0.335253
theme_override_fonts/font = ExtResource("34_fg2lb")
theme_override_font_sizes/font_size = 90
text = "/"

[node name="TotalRounds" type="Label" parent="UI/SideUI/RoundCounter/Control"]
layout_mode = 0
offset_left = 34.0
offset_top = 57.0
offset_right = 75.0
offset_bottom = 116.0
theme_override_fonts/font = ExtResource("34_fg2lb")
theme_override_font_sizes/font_size = 40
text = "10"

[node name="TickSFX" type="AudioStreamPlayer" parent="UI/SideUI/RoundCounter"]
stream = ExtResource("31_7t3pt")

[node name="LaughOMeter" type="Control" parent="UI/SideUI"]
anchors_preset = 0
offset_left = 172.0
offset_right = 425.0
offset_bottom = 150.0
scale = Vector2(1.5, 1.5)
pivot_offset = Vector2(127, 0)
script = ExtResource("30_d55fc")
arrow_move_speed = 20.0

[node name="Meter" type="TextureRect" parent="UI/SideUI/LaughOMeter"]
layout_mode = 2
offset_right = 1024.0
offset_bottom = 612.0
grow_horizontal = 2
grow_vertical = 2
scale = Vector2(0.25, 0.25)
texture = ExtResource("30_bo35e")

[node name="Arrow" type="TextureRect" parent="UI/SideUI/LaughOMeter"]
layout_mode = 2
offset_left = 59.0
offset_top = -29.0
offset_right = 199.0
offset_bottom = 390.0
scale = Vector2(0.25, 0.25)
pivot_offset = Vector2(68, 36)
texture = ExtResource("31_ussmt")

[node name="MovesListContainer" type="Control" parent="UI/SideUI"]
anchors_preset = 0
offset_left = 14.0
offset_top = 498.0
offset_right = 54.0
offset_bottom = 538.0
script = ExtResource("4_0u1ey")
joke_card_scene = ExtResource("5_w6ovw")
card_stack_offset = Vector2(20, 40)

[node name="OppositeUI" type="Control" parent="UI"]
layout_mode = 3
anchors_preset = 11
anchor_left = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -291.0
grow_horizontal = 0
grow_vertical = 2

[node name="BuffsListContainer" type="VBoxContainer" parent="UI/OppositeUI"]
layout_mode = 0
offset_left = -302.0
offset_top = 15.0
offset_right = -5.0
offset_bottom = 55.0

[node name="Header" type="Label" parent="UI/OppositeUI/BuffsListContainer"]
layout_mode = 2
theme_override_constants/outline_size = 16
theme_override_font_sizes/font_size = 28
text = "BUFFS:"

[node name="BuffsList" type="HBoxContainer" parent="UI/OppositeUI/BuffsListContainer"]
layout_mode = 2
script = ExtResource("10_3cn8e")
buff_indicator_scene = ExtResource("38_jsgpo")

[node name="JokeScrollTutorial" type="PanelContainer" parent="UI"]
offset_left = 402.0
offset_top = 351.0
offset_right = 575.0
offset_bottom = 395.0
script = ExtResource("37_ibop3")

[node name="Label" type="Label" parent="UI/JokeScrollTutorial"]
layout_mode = 2
text = "Scroll to select a joke"

[node name="JokeConfirmTutorial" type="PanelContainer" parent="UI"]
visible = false
offset_left = 462.0
offset_top = 484.0
offset_right = 635.0
offset_bottom = 528.0
script = ExtResource("37_ibop3")

[node name="Label" type="Label" parent="UI/JokeConfirmTutorial"]
layout_mode = 2
text = "Click on highlighted
joke to confirm your
move"

[node name="MessageLog" type="VBoxContainer" parent="UI"]
anchors_preset = -1
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -564.0
offset_top = -201.0
offset_right = -25.0
offset_bottom = -27.0
grow_horizontal = 0
grow_vertical = 0
size_flags_vertical = 10
theme_override_constants/separation = 4
alignment = 2
script = ExtResource("39_avrv0")
log_message_scene = ExtResource("40_tf5cc")
chars_per_second = 50.0

[node name="GameOverUI" type="CanvasLayer" parent="."]
script = ExtResource("7_gg7m1")

[node name="Background" type="ColorRect" parent="GameOverUI"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.396078)

[node name="CenterContainer" type="CenterContainer" parent="GameOverUI"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="PanelContainer" type="PanelContainer" parent="GameOverUI/CenterContainer"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_1ec8j")

[node name="VBoxContainer" type="VBoxContainer" parent="GameOverUI/CenterContainer/PanelContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="GameOverUI/CenterContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "Game Over!"

[node name="LeaveButton" type="Button" parent="GameOverUI/CenterContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
text = "Leave Gig"

[node name="WinUI" type="CanvasLayer" parent="."]
script = ExtResource("8_dfcjn")

[node name="Background" type="ColorRect" parent="WinUI"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
color = Color(0, 0, 0, 0.396078)

[node name="CenterContainer" type="CenterContainer" parent="WinUI"]
visible = false
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="PanelContainer" type="PanelContainer" parent="WinUI/CenterContainer"]
layout_mode = 2
theme_override_styles/panel = SubResource("StyleBoxFlat_1ec8j")

[node name="VBoxContainer" type="VBoxContainer" parent="WinUI/CenterContainer/PanelContainer"]
layout_mode = 2

[node name="Label" type="Label" parent="WinUI/CenterContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
theme_override_font_sizes/font_size = 32
text = "You Win!"

[node name="LeaveButton" type="Button" parent="WinUI/CenterContainer/PanelContainer/VBoxContainer"]
layout_mode = 2
text = "Leave Gig"

[node name="LightingLayer" type="Sprite2D" parent="."]
modulate = Color(1, 1, 1, 0.768627)
scale = Vector2(0.62, 0.62)
texture = ExtResource("44_wy2ib")
centered = false

[connection signal="pressed" from="GameOverUI/CenterContainer/PanelContainer/VBoxContainer/LeaveButton" to="GameOverUI" method="_on_leave_button_pressed"]
[connection signal="pressed" from="WinUI/CenterContainer/PanelContainer/VBoxContainer/LeaveButton" to="WinUI" method="_on_leave_button_pressed"]
